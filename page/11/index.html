<!doctype html>



  


<html class="theme-next pisces use-motion">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Android, iOS, Flutter, Java, Go, Game, Cocos">








  <link rel="shortcut icon" type="image/x-icon" href="/images/avatar.jpg?v=5.0.1">






<meta property="og:type" content="website">
<meta property="og:title" content="奥托列夫">
<meta property="og:url" content="https://autoref.cn/page/11/index.html">
<meta property="og:site_name" content="奥托列夫">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="奥托列夫">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6312938799605220000,
      author: 'x4niko'
    }
  };
</script>




  <link rel="canonical" href="https://autoref.cn/page/11/">

  <title> 奥托列夫 </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?63c79e1776a1bfa83cb00d24fcebd0df";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">奥托列夫</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">迷之炼码术师</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/16/88/" itemprop="url">
                  Android设置软键盘的回车键为搜索
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-16T17:26:19+08:00" content="2016-07-16">
              2016-07-16
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/16/88/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/16/88/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在布局中添加android:imeOptions=”actionSearch”，也可以在代码中设置imeOptions：editText.setImeOptions(EditorInfo.IME_ACTION_SEND);</p>
<p>然后添加代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">editText.setOnEditorActionListener(new <span class="function"><span class="title">OnEditorActionListener</span></span>() &#123;</span><br><span class="line">	@Override</span><br><span class="line">	public boolean onEditorAction(TextView v, int actionId, KeyEvent event) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		<span class="keyword">if</span> (actionId == EditorInfo.IME_ACTION_SEARCH ||</span><br><span class="line">				(event != null &amp;amp;&amp;amp; event.getKeyCode() == KeyEvent.KEYCODE_ENTER))&#123;</span><br><span class="line">			// <span class="keyword">do</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/25/85/" itemprop="url">
                  配置使用Charles监控android网络请求
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-25T14:45:39+08:00" content="2016-06-25">
              2016-06-25
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/25/85/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/25/85/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1、从官网下载并安装软件，有30天的试用期:</p>
<p><a href="http://www.charlesproxy.com/" target="_blank" rel="noopener">http://www.charlesproxy.com/</a></p>
<p>2、注意电脑和手机必须在同一网段</p>
<p>3、在Charles界面选择菜单Proxy-&gt;Proxy Settings，并勾选”Enable transparent HTTP proxying”，确定代理端口，默认”8888”就可以了</p>
<p>4、Android手机选择当前连接的WIFI网络，选择”修改网络”，勾选”显示高级选项”，填入代理主机的IP(也就是装了Charles的机器)，端口输入刚才填的”8888”</p>
<p>5、这时Charles客户端会跳一个框，点选允许</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/11/81/" itemprop="url">
                  Android实现不规则图形按钮非透明区的点击事件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-11T22:28:45+08:00" content="2016-06-11">
              2016-06-11
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/11/81/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/11/81/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 不规则<span class="string">"图形按钮控件"</span></span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">public class TrapezoidImageButton extends ImageButton &#123;</span><br><span class="line"></span><br><span class="line">    public TrapezoidImageButton(Context context, AttributeSet attrs, int defStyle) &#123;</span><br><span class="line">        super(context, attrs, defStyle);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public TrapezoidImageButton(Context context, AttributeSet attrs) &#123;</span><br><span class="line">        super(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public TrapezoidImageButton(Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onTouchEvent(MotionEvent event) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isTouchPointInView(event.getX(),event.getY())||</span><br><span class="line">                event.getAction() != MotionEvent.ACTION_DOWN)&#123;</span><br><span class="line">            <span class="built_in">return</span> super.onTouchEvent(event);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected boolean isTouchPointInView(<span class="built_in">float</span> localX, <span class="built_in">float</span> localY)&#123;</span><br><span class="line">        Bitmap bitmap = Bitmap.createBitmap(getWidth(), getHeight(), Config.ARGB_8888);</span><br><span class="line">        Canvas canvas = new Canvas(bitmap);</span><br><span class="line">        draw(canvas);</span><br><span class="line">        int x = (int)localX;</span><br><span class="line">        int y = (int)localY;</span><br><span class="line">        <span class="keyword">if</span> (x &lt; 0 || x &gt;= getWidth())</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (y &lt; 0 || y &gt;= getHeight())</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        int pixel = bitmap.getPixel(x,y);</span><br><span class="line">        <span class="keyword">if</span> ((pixel&amp;0xff000000) != 0)&#123; //点在非透明区</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/15/76/" itemprop="url">
                  Android数据库开源框架LitePal的使用2、增删改查
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-15T18:53:24+08:00" content="2016-05-15">
              2016-05-15
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/15/76/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/15/76/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.autoref.cn/?p=224" target="_blank" rel="noopener">前面介绍了LitePal的配置</a>，现在来看看怎么使用。<br>&nbsp;<br>1、创建表<br>先添加两个Model，Album和Song，都继承DataSupport类</p>
<pre>public class Album extends DataSupport {

    @Column(unique = true, defaultValue = "unknown")
    private String name;

    private float price;

    private List songs = new ArrayList();

    // generated getters and setters.
}
</pre>
&nbsp;
<pre>public class Song extends DataSupport {

    @Column(nullable = false)
    private String name;

    private int duration;

    @Column(ignore = true)
    private String uselessField;

    private Album album;

    // generated getters and setters.
}
</pre>
然后把它们添加到litepal.xml文件：
<pre>
<list>
    <mapping class="cn.autoref.litepalsample.model.Album"></mapping>
    <mapping class="cn.autoref.litepalsample.model.Song"></mapping>
</list>
</pre>
现在数据表会在下次数据库操作时自动生成，比如获取SQLiteDatabase实例：
<pre>SQLiteDatabase db = Connector.getDatabase();
</pre>
相当于下面两条SQL语句：
<pre>CREATE TABLE album (
    id integer primary key autoincrement,
    name text unique default 'unknown',
    price real
);

CREATE TABLE song (
    id integer primary key autoincrement,
    name text not null,
    duration integer,
    album_id integer
);
</pre>
2、更新数据表
例如在Album中忽略字段price，增加时间字段releaseDate：
<pre>public class Album extends DataSupport {

    @Column(unique = true, defaultValue = "unknown")
    private String name;

    @Column(ignore = true)
    private float price;

    private Date releaseDate;

    private List songs = new ArrayList();

    // generated getters and setters.
}
</pre>
接着在litepal.xml文件中将版本号加1，那么在下次数据库操作时，会在表中增加releasedate字段，并删除原来的price字段。
但是一些操作LitePal处理不了，会直接清除所有数据，比如：

*   增加一个注解为unique = true的字段
*   改变一个字段的注解为unique = true
*   改变一个字段的注解为nullable = false
&nbsp;
3、保存数据
所有的Model都会继承自DataSupport，直接使用save()方法保存数据
<pre>
Album album = new Album();
album.setName("album");
album.setPrice(10.99f);
album.save();

Song song1 = new Song();
song1.setName("song1");
song1.setDuration(320);
song1.setAlbum(album);
song1.save();

Song song2 = new Song();
song2.setName("song2");;
song2.setDuration(356);
song2.setAlbum(album);
song2.save();
</pre>
&nbsp;
4、更新数据
根据指定ID更新一条记录：
<pre>
Album albumToUpdate = new Album();
albumToUpdate.setPrice(20.99f); // raise the price
albumToUpdate.update(id);
</pre>
使用where条件语句更新多条记录：
<pre>
Album albumToUpdate = new Album();
albumToUpdate.setPrice(20.99f); // raise the price
albumToUpdate.updateAll("name = ?", "album");
</pre>
&nbsp;
5、删除数据
<pre>
// 删除指定ID的一条记录
DataSupport.delete(Song.class, id);

// 根据条件删除记录
DataSupport.deleteAll(Song.class, "duration > ?" , "350");
</pre>
&nbsp;
6、查询数据
<pre>
// 查询指定ID的一条记录
Song song = DataSupport.find(Song.class, id);

// 查询表所有数据
List<song> allSongs = DataSupport.findAll(Song.class);

// 约束复杂查询
List<song> songs = DataSupport.where("name like ?", "song%").order("duration").find(Song.class);
</song></song></pre>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/14/75/" itemprop="url">
                  Android数据库开源框架LitePal的使用1、基本配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-14T00:23:05+08:00" content="2016-05-14">
              2016-05-14
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/14/75/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/14/75/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>LitePal是一个开源Android库，使开发者可以在不写一句SQL语句下，很简单的使用SQLite数据库，而且在项目中集成配置也简单。</p>
<p>先来看看LitePal的几个特点：</p>
<ul>
<li>使用对象关系映射（ORM）模式</li>
<li>几乎零配置</li>
<li>自动维护表，包括创建、修改、删除</li>
<li>封装APIs，避免写SQL语句</li>
<li>令人惊叹的簇查询函数</li>
<li>仍旧可以选择使用SQL，但比原始的要简单好用</li>
<li><p>开源<br>&nbsp;<br>1、<a href="https://github.com/LitePalFramework/LitePal/raw/master/downloads/litepal-1.3.0.jar" target="_blank" rel="noopener">点击下载</a>并引入jar包<br>Eclipse项目：将jar包导入libs文件夹<br>Android Studio项目：直接配置build.gradle文件<br><pre>dependencies {<br>compile ‘org.litepal.android:core:1.3.0’<br>}<br></pre><br>&nbsp;<br>2、配置litepal.xml文件<br>在项目的assets文件夹中创建litepal.xml文件：<br><pre><br>&lt;?xml version=”1.0” encoding=”utf-8”?&gt;<br><litepal></litepal></pre></p>
<dbname value="demo"></dbname>

<version value="1"></version>

<p><list><br></list><br><br><br>这是唯一的文件：</p>
</li>
<li><p>dbname 配置项目的数据库名字。名字后面如果没有写.db，LitePal会自动添加。</p>
</li>
<li><p>version 配置数据库版本号。每次更新数据库后，版本号加1。</p>
</li>
<li><p>list 配置映射类。包名+类名，如&lt;mapping class=”cn.autoref.UserInfo”&gt;&lt;/mapping&gt;<br>&nbsp;<br>3、配置LitePalApplication<br>LitePal需要在AndroidManifest.xml中配置一下LitePalApplication：<br><pre><br><manifest><br>&lt;application</manifest></pre></p>
<pre><code>android:name=&quot;org.litepal.LitePalApplication&quot;
...
</code></pre><p>&gt;<br>…<br><br><br><br>如果有自己的MyApplication，并在上面配置过了。只需要让MyApplication继承LitePalApplication类：<br><pre>public class MyApplication extends LitePalApplication {<br>…<br>}<br></pre><br>另一种情况是，MyApplication继承另外一个AnotherApplication，并且这个AnotherApplication还是在jar包当中，不能修改它的源码的，我们可以调用LitePalApplication.initialize(context)方法代替继承：<br><pre>public class MyOwnApplication extends AnotherApplication {</pre></p>
<p>@Override<br>public void onCreate() {</p>
<pre><code>super.onCreate();
LitePalApplication.initialize(this);
</code></pre><p>}<br>…<br>}<br><br>LitePalApplication.initialize(context)中的context，要用application级别的，不能使用activity或者service的实例，否则可能会造成内存泄露。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/13/72/" itemprop="url">
                  android数组资源arrays.xml
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-04-13T12:29:57+08:00" content="2016-04-13">
              2016-04-13
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/13/72/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/13/72/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在values目录下创建arrays.xml文件，&lt;string-array&gt;定义字符数组，&lt;integer-array&gt;定义整数数组：</p>
<pre>
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string-array name="string_values">
        <item>Alice</item>
        <item>Bob</item>
        <item>Carmon</item>
        <item>David</item>
        <item>Eva</item>
    </string-array>

    <integer-array name="integer_values" translatable="false">
        <item>1</item>
        <item>2</item>
        <item>3</item>
    </integer-array>
</resources>
</pre>
代码引用数组资源：
<pre>String[] stringValues = getResources().getStringArray(R.array.string_values);
Int[] integerValues = getResources().getIntArray(R.array.integer_values);
</pre>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/09/69/" itemprop="url">
                  Android网络通信框架Volley解析2：自定义Request
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-09T11:42:21+08:00" content="2016-03-09">
              2016-03-09
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/09/69/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/09/69/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Volley提供了非常强的扩展机制，使得能够很轻松地定制出任意类型的Request，我们可以模仿StringRequest来自定义其他类型的Request。<br>&nbsp;<br>自定义XMLRequest：</p>
<pre>
public class XMLRequest extends Request<xmlpullparser> {
    private final Listener<xmlpullparser> mListener;  

    public XMLRequest(int method, String url, Listener<xmlpullparser> listener,  
            ErrorListener errorListener) {  
        super(method, url, errorListener);  
        mListener = listener;  
    }

    public XMLRequest(String url, Listener<xmlpullparser> listener, ErrorListener errorListener) {  
        this(Method.GET, url, listener, errorListener);  
    }

    @Override  
    protected Response<xmlpullparser> parseNetworkResponse(NetworkResponse response) {  
        try {  
            String xmlString = new String(response.data,  
                    HttpHeaderParser.parseCharset(response.headers));  
            XmlPullParserFactory factory = XmlPullParserFactory.newInstance();  
            XmlPullParser xmlPullParser = factory.newPullParser();  
            xmlPullParser.setInput(new StringReader(xmlString));  
            return Response.success(xmlPullParser, HttpHeaderParser.parseCacheHeaders(response));  
        } catch (UnsupportedEncodingException e) {  
            return Response.error(new ParseError(e));  
        } catch (XmlPullParserException e) {  
            return Response.error(new ParseError(e));  
        }  
    }

    @Override  
    protected void deliverResponse(XmlPullParser response) {  
        mListener.onResponse(response);  
    }
}  
</xmlpullparser></xmlpullparser></xmlpullparser></xmlpullparser></xmlpullparser></pre>
使用方法跟StringRequest类似：
<pre>
XMLRequest xmlRequest = new XMLRequest(  
        "http://www.autoref.cn/xxx.xml",  
        new Response.Listener<xmlpullparser>() {  
            @Override  
            public void onResponse(XmlPullParser response) {  
                try {  
                    int eventType = response.getEventType();  
                    while (eventType != XmlPullParser.END_DOCUMENT) {  
                        switch (eventType) {  
                        case XmlPullParser.START_TAG:  
                            String nodeName = response.getName();  
                            Log.d("TAG", "NodeName：" + nodeName);
                            break;  
                        }  
                        eventType = response.next();  
                    }  
                } catch (XmlPullParserException e) {  
                    e.printStackTrace();  
                } catch (IOException e) {  
                    e.printStackTrace();  
                }  
            }  
        }, new Response.ErrorListener() {  
            @Override  
            public void onErrorResponse(VolleyError error) {  
                Log.e("TAG", error.getMessage());  
            }  
        });  
mRequestQueue.add(xmlRequest);
</xmlpullparser></pre>
&nbsp;
自定义GsonRequest：JsonRequest的数据解析是利用Android自带的JSONObject和JSONArray来实现的，我们可以通过导入Gson包来定义GsonRequest。
<pre>
public class GsonRequest<t> extends Request<t> {  
    private final Listener<t> mListener;
    private Gson mGson;
    private Class<t> mClass;  

    public GsonRequest(int method, String url, Class<t> clazz, Listener<t> listener,  
            ErrorListener errorListener) {  
        super(method, url, errorListener);  
        mGson = new Gson();  
        mClass = clazz;  
        mListener = listener;  
    }  

    public GsonRequest(String url, Class<t> clazz, Listener<t> listener,  
            ErrorListener errorListener) {  
        this(Method.GET, url, clazz, listener, errorListener);  
    }  

    @Override  
    protected Response<t> parseNetworkResponse(NetworkResponse response) {  
        try {  
            String jsonString = new String(response.data,  
                    HttpHeaderParser.parseCharset(response.headers));  
            return Response.success(mGson.fromJson(jsonString, mClass),  
                    HttpHeaderParser.parseCacheHeaders(response));  
        } catch (UnsupportedEncodingException e) {  
            return Response.error(new ParseError(e));  
        }  
    }  

    @Override  
    protected void deliverResponse(T response) {  
        mListener.onResponse(response);  
    }  
}
</t></t></t></t></t></t></t></t></t></pre>
使用时需要传入对象类型，如UserInfo对象类型：
<pre>
GsonRequest<userinfo> gsonRequest = new GsonRequest<userinfo>(  
        "http://www.autoref.cn", UserInfo.class,  
        new Response.Listener<userinfo>() {  
            @Override  
            public void onResponse(UserInfo userInfo) {
                Log.d("TAG", "UserInfo");
            }  
        }, new Response.ErrorListener() {  
            @Override  
            public void onErrorResponse(VolleyError error) {  
                Log.e("TAG", error.getMessage());  
            }  
        });  
mRequestQueue.add(gsonRequest);  
</userinfo></userinfo></userinfo></pre>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/08/68/" itemprop="url">
                  Android网络通信框架Volley解析1：基本网络通信请求
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-08T23:51:03+08:00" content="2016-03-08">
              2016-03-08
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/08/68/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/08/68/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Volley是Google在2013年I/O大会上推出的一个新的网络通信框架，使用简单、代码轻量、通信速度快、并发量大，非常适合数据量不大，但通信频繁的网络操作，Volley不适合用于大数据量的网络操作，比如说下载文件等。<br>&nbsp;<br>初始化请求队列</p>
<pre>RequestQueue mRequestQueue = Volley.newRequestQueue(context);
</pre>
RequestQueue是一个请求队列对象，可以缓存所有的HTTP请求，不必为每一次HTTP请求都创建一个RequestQueue对象，一般习惯用法是在Application中全局初始化。
&nbsp;
ObjectRequest需要根据自己请求返回的数据来定制，继承抽象类Request，Vollay已经实现了StringRequest、JsonArrayRequest、JsonObjectRequest、ImageRequest请求。
&nbsp;
StringRequest：通过URL请求，并获取字符串响应体。请求类型通常有GET和POST两种，默认为GET。
<pre>
StringRequest stringRequest = new StringRequest("www.autoref.cn",
      new Response.Listener<string>() {
           @Override
           public void onResponse(String response) {
               Log.d("TAG", response);
           }
      }, new Response.ErrorListener() {
           @Override
           public void onErrorResponse(VolleyError error) {
               Log.e("TAG", error.getMessage());
           }
      });
// 将StringRequest对象添加到RequestQueue里
requestQueue.add(stringRequest);
</string></pre>
StringRequest中还提供了另外一种四个参数的构造函数，其中第一个参数就是指定请求类型的，但是StringRequest中并没有提供设置POST参数的方法，我们可以通过StringRequest的父类Request中的getParams()方法来获取POST参数，只需要在StringRequest的匿名类中重写getParams()方法设置POST参数：
<pre>
StringRequest stringRequest = new StringRequest(Request.Method.POST, url, listener, errorListener) {
      @Override
      protected Map<string, string=""> getParams() throws AuthFailureError {
           Map<string, string=""> map = new HashMap<string, string="">();
           map.put("params1", "value1");
           map.put("params2", "value2");
           return map;
      }
};
</string,></string,></string,></pre>
另外我们可以重写parseNetworkResponse方法来改变返回的头参数
<pre>
StringRequest stringRequest = new StringRequest(Request.Method.GET, url, listener, errorListener) {
      protected final String TYPE_UTF8_CHARSET = "charset=UTF-8";

      @Override
      protected Response<string> parseNetworkResponse(NetworkResponse response) {
           try {
               // 如果编码不是UTF-8的话就转换，解决乱码问题
               String type = response.headers.get(HTTP.CONTENT_TYPE);
               if (type == null) {
                   type = TYPE_UTF8_CHARSET;
                   response.headers.put(HTTP.CONTENT_TYPE, type);
               } else if (!type.contains("UTF-8")) {
                   type += ";" + TYPE_UTF8_CHARSET;
                   response.headers.put(HTTP.CONTENT_TYPE, type);
               }
           } catch (Exception e) {}
           return super.parseNetworkResponse(response);
      }
};
</string></pre>
&nbsp;
JsonRequest：JsonRequest也继承自Request类的，不过JsonRequest是一个抽象类，JsonRequest有两个直接的子类，JsonObjectRequest和JsonArrayRequest，一个是用于请求JSON数据，一个是用于请求JSON数组，用法和StringRequest类似。
<pre>
JsonObjectRequest jsonObjectRequest = new JsonObjectRequest("www.autoref.cn", null,  
        new Response.Listener<jsonobject>() {  
            @Override  
            public void onResponse(JSONObject response) {  
                Log.d("TAG", response.toString());  
            }  
        }, new Response.ErrorListener() {  
            @Override  
            public void onErrorResponse(VolleyError error) {  
                Log.e("TAG", error.getMessage(), error);  
            }  
        });
requestQueue.add(jsonObjectRequest);  
</jsonobject></pre>
&nbsp;
ImageRequest：图片请求
<pre>
    /**
     *
     * @param url
     *            图片地址
     * @param listener
     *            回调，返回一个Bitmap
     * @param maxWidth
     *            允许图片最大的宽度，网络图片的宽度大于最大值，会对图片进行压缩，0表示不压缩
     * @param maxHeight
     *            允许图片最大的高度，网络图片的高度大于最大值，会对图片进行压缩，0表示不压缩
     * @param scaleType
     *            图片伸缩方式，不传默认为ScaleType.CENTER_INSIDE
     * @param decodeConfig
     *            图片的颜色属性
     * @param errorListener
     *            错误回调
     */

ImageRequest imageRequest = new ImageRequest(url, new Response.Listener<bitmap>() {
            @Override
            public void onResponse(Bitmap bitmap) {
                imageView.setImageBitmap(bitmap);
            }
        }, 60, 60, scaleType, Bitmap.Config.ARGB_8888, null);
</bitmap></pre>
ImageLoader：也用于加载网络图片，内部是使用ImageRequest来实现的，不过ImageLoader不仅可以对图片进行缓存，还可以过滤掉重复的链接，避免重复发送请求。
<pre>
/**
  *
  * @param requestQueue
  *            RequestQueue对象
  * @param imageCache
  *            作为一级缓存
  */
ImageLoader imageLoader = new ImageLoader(requestQueue, new ImageLoader.ImageCache() {
            @Override
            public void putBitmap(String url, Bitmap bitmap) {
            }

            @Override
            public Bitmap getBitmap(String url) {
                return null;
            }
        });

/**
 * 获取到一个ImageListener对象
 *
 * @param imageView
 * @param defaultImageResId
 *            默认图片，0为不设置
 * @param errorImageResId
 *            请求错误时的图片，0为不设置
 */
ImageLoader.ImageListener listener = ImageLoader.getImageListener(imageView,
                R.drawable.default_image, R.drawable.failure_image);

// 获取图片
imageLoader.get("www.autoref.cn/xxx.jpg", listener);
// 获取图片时也可以指定图片允许的最大宽度和高度
imageLoader.get("www.autoref.cn/xxx.jpg", listener, 200, 200);
</pre>
上面创建的ImageCache对象是一个空的实现，现在我们借助Android提供的LruCache功能，来写一个简单的ImageCache，实现图片的缓存。
<pre>
public class BitmapCache implements ImageCache {  

    private LruCache<string, bitmap=""> mCache;  

    public BitmapCache() {  
        // 将缓存图片的大小设置为5M
        int maxSize = 5 * 1024 * 1024;  
        mCache = new LruCache<string, bitmap="">(maxSize) {  
            @Override  
            protected int sizeOf(String key, Bitmap bitmap) {  
                return bitmap.getRowBytes() * bitmap.getHeight();  
            }  
        };  
    }  

    @Override  
    public Bitmap getBitmap(String url) {  
        return mCache.get(url);  
    }  

    @Override  
    public void putBitmap(String url, Bitmap bitmap) {  
        mCache.put(url, bitmap);  
    }  

}  
</string,></string,></pre>
&nbsp;
NetworkImageView：NetworkImageView继承自ImageView，在原生的基础之上加入了加载网络图片的功能。NetworkImageView在被从父控件detach的时候，会自动取消网络请求，还会根据图片设置的width和heigh自动压缩该图片。
布局XML文件：
<pre>
<com.android.volley.toolbox.networkimageview android:id="@+id/network_image_view" android:layout_width="100dp" android:layout_height="100dp">  
</com.android.volley.toolbox.networkimageview></pre>
代码实现：
<pre>
ImageLoader imageLoader = new ImageLoader(requestQueue, new BitmapCache());
NetworkImageView networkImageView = (NetworkImageView) findViewById(R.id.network_image_view);
networkImageView.setDefaultImageResId(R.drawable.default_image);  
networkImageView.setErrorImageResId(R.drawable.failure_image);  
networkImageView.setImageUrl("www.autoref.cn/xxx.jpg", imageLoader);  
</pre>
&nbsp;
最后来说说如何取消请求，我们可以给某个请求设置一个标签：
<pre>
request.setTag("Request_Tag");
</pre>
然后在需要的地方取消所有指定标签的请求：
<pre>
request.cancelAll("Request_Tag");
</pre>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/25/65/" itemprop="url">
                  android.os.NetworkOnMainThreadException
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-25T10:12:05+08:00" content="2016-02-25">
              2016-02-25
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/25/65/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/25/65/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>错误日志：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android.os.NetworkOnMainThreadException</span><br></pre></td></tr></table></figure></p>
<p>错误原因：在主线程中操作网络请求。<br>解决办法：将网络请求操作单独放到一个线程中。<br>比如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">new <span class="function"><span class="title">Thread</span></span>()&#123;</span><br><span class="line">      @Override</span><br><span class="line">      public void run()</span><br><span class="line">      &#123;</span><br><span class="line">        // TODO: 网络操作</span><br><span class="line">      &#125;  </span><br><span class="line">&#125;.start();</span><br></pre></td></tr></table></figure></p>
<p>或者：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class DoSomeTask extends AsyncTask&lt;String, Void, String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    protected RSSFeed doInBackground(String... urls) &#123;</span><br><span class="line">        // TODO: 网络操作</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected void onPostExecute(String result) &#123;</span><br><span class="line">        // TODO: <span class="keyword">do</span> something</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/60/" itemprop="url">
                  emulator：ERROR：the user data image is used by another emulator.aborting
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T21:32:39+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/60/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/60/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>错误日志：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emulator：ERROR：the user data image is used by another emulator.aborting</span><br></pre></td></tr></table></figure></p>
<p>错误原因：~.android\avd\对应设备下的.lock是加锁的，如果程序崩溃等原因导致无法清除这些以.lock结尾的文件夹，导致AVD的锁没有被释放，AVD Manager会认为AVD正在使用当中。</p>
<p>解决办法：删除~.android\avd\对应设备下的以.lock结尾的文件夹。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Niko Vinci">
          <p class="site-author-name" itemprop="name">Niko Vinci</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">126</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">118</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/x4niko" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://game.autoref.cn/" target="_blank" title="游戏中心">
                  
                    <i class="fa fa-fw fa-gamepad"></i>
                  
                  游戏中心
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Niko Vinci</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"autoref"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
